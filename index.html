<!DOCTYPE html>
<html>
	<head>
		<!-- script de A-Frane version1 1.0.0 -->
		<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
		<!-- script de AR.JS con soporte de marker + location -->
		<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
        <!-- script para gesture-controls -->
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>

    <title>Tarjeta de Presentación AR</title>
	</head>
    <body style="margin : 0px; overflow: hidden;">
        <a-scene embedded arjs>
			<a-marker preset="hiro">
                <a-entity 
                    gltf-model="https://leoginer.github.io/tarjeta-ar/menina.glb"
                    scale="0.5 0.5 0.5" 
                    position="0 0 0" 
                    rotation="0 180 0"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 10000"
                    sound="src: url(https://leoginer.github.io/tarjeta-ar/music.mp3); autoplay: true; loop: true; volume: 1">
                </a-entity>
            
                <!-- Letrero con texto interactivo -->
                <a-entity id="link-text" position="0 2.5 0">
                    <!-- Fondo del letrero -->
                    <a-plane width="1.5" height="0.5" color="#0000FF" opacity="0.7"></a-plane>
                    <!-- Texto centrado usando el componente 'text' -->
                    <a-entity position="0 0 0.01" text="value: visita eddimia.com; width: 1.4; color: #FFFFFF; align: center;"></a-entity>
                </a-entity>
           

                <a-entity camera position="0 1 3" rotation="0 0 0"
                    look-controls
                    gesture-detector
                    cursor="fuse: false"
                    raycaster="objects: .clickable">
                </a-entity>

			</a-marker>

            <!-- Cámara con raycaster y cursor para interactividad 
            <a-entity camera look-controls
                gesture-detector
                cursor="fuse: false"
                raycaster="objects: .clickable">
            </a-entity> -->

        </a-scene>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
              var textEntity = document.querySelector('#link-text');
              // Añadimos la clase 'clickable' al elemento
              textEntity.classList.add('clickable');
              // Eventos de interactividad
              var openLink = function () {
                window.open('https://eddimia.com', '_blank');
              };
              textEntity.addEventListener('click', openLink);
              textEntity.addEventListener('mousedown', openLink);
              textEntity.addEventListener('mouseup', openLink);
              textEntity.addEventListener('touchstart', openLink);
              textEntity.addEventListener('touchend', openLink);
            });
          </script>

    </body>
</html>